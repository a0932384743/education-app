(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{1213:function(t,e,n){"use strict";n.r(e);var r=n(358),l=n(886),o=n(876),c=n(867),d=n(1199),v=n(1198),m=n(492),f=n(1052),_=n(505),h=n(865),D=n(174),y=n(870),x=n(233),w=(n(84),n(455),n(35),n(22),n(877)),k=n.n(w),C=n(1089),M={name:"AbnormalEventRecord",layout:"admin-layout",data:function(){return{items:C,startDateMenu:!1,endDateMenu:!1,isEventEnded:!1,level:"",category:"",categories:["EdgeDevicesPing","ConnectorTraffic","InternationalCircuitV4Ping"],levels:["MN","CR"],startDate:k()("2024-06-01").format("YYYY-MM-DD"),endDate:k()("2024-06-30").format("YYYY-MM-DD")}},computed:{headers:function(){return[{text:this.$t("id"),value:"id",width:80},{text:this.$t("event.id"),value:"eventId"},{text:this.$t("event.category"),value:"category"},{text:this.$t("level"),value:"level"},{text:this.$t("event.start.time"),value:"startTime"},{text:this.$t("event.end.time"),value:"endTime"},{text:this.$t("event.duration"),value:"duration"},{text:this.$t("event.device"),value:"device"},{text:this.$t("event.description"),value:"desc"}]}},mounted:function(){this.items=C},methods:{onSearchEvents:function(){var t=this;this.items=C.filter((function(e){return(!t.startDate||k()(e.startTime).isAfter(k()(t.startDate).startOf("days")))&&(!t.category||e.category===t.category)&&(!t.level||e.level===t.level)&&(t.isEventEnded&&e.endTime||!t.isEventEnded&&k()(e.endTime||new Date).isBefore(k()(t.endDate).endOf("days")))}))}}},$=n(136),component=Object($.a)(M,(function(){var t=this,e=t._self._c;return e(h.a,[e(c.a,{staticClass:"text-center"},[e(l.a,[e(o.c,[e("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("condition.search")))])]),t._v(" "),e(m.a),t._v(" "),e(o.b,[e(f.a,{staticClass:"px-5"},[e(h.a,{staticClass:"my-0"},[e(c.a,{staticClass:"pt-1",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[e(_.a,{ref:"startDateMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(x.a,t._g(t._b({attrs:{label:t.$t("start.time"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},"v-text-field",l,!1),r))]}}]),model:{value:t.startDateMenu,callback:function(e){t.startDateMenu=e},expression:"startDateMenu"}},[t._v(" "),e(v.a,{on:{input:function(e){t.startDateMenu=!1}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)],1),t._v(" "),e(c.a,{staticClass:"pt-1",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[e(_.a,{ref:"endDateMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on,l=n.attrs;return[e(x.a,t._g(t._b({attrs:{label:t.$t("end.time"),"prepend-icon":"mdi-calendar",readonly:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},"v-text-field",l,!1),r))]}}]),model:{value:t.endDateMenu,callback:function(e){t.endDateMenu=e},expression:"endDateMenu"}},[t._v(" "),e(v.a,{on:{input:function(e){t.endDateMenu=!1}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1),t._v(" "),e(c.a,{staticClass:"pt-1",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[e(D.a,{attrs:{items:t.categories,label:t.$t("event.category")},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),t._v(" "),e(c.a,{staticClass:"pt-1",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[e(D.a,{attrs:{items:t.levels,label:t.$t("event.level")},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}})],1),t._v(" "),e(c.a,{staticClass:"pt-1",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[e(y.a,{staticClass:"mt-0",attrs:{label:t.$t("event.is.closed")},model:{value:t.isEventEnded,callback:function(e){t.isEventEnded=e},expression:"isEventEnded"}})],1)],1)],1)],1),t._v(" "),e(o.a,{staticClass:"justify-end"},[e(r.a,{attrs:{color:"primary"},on:{click:t.onSearchEvents}},[t._v(t._s(t.$t("search")))])],1)],1)],1),t._v(" "),e(c.a,{attrs:{cols:12}},[e("table-card",{attrs:{title:"異常事件紀錄",items:t.items},scopedSlots:t._u([{key:"default",fn:function(n){var r=n.search,l=n.footerProps,o=n.itemPerPage,c=n.page,v=n.items,m=n.headerProps;return[e(d.a,{attrs:{headers:t.headers,items:v,search:r,page:c,"items-per-page":o,"footer-props":l,"header-props":m,"fixed-header":"","hide-default-footer":""},scopedSlots:t._u([{key:"item",fn:function(n){var r=n.item;return[e("tr",{staticClass:"lighten-2",class:!r.endTime&&"error",style:(r.endTime,"border-color: inherit !important")},[e("td",[t._v(t._s(r.id))]),t._v(" "),e("td",{attrs:{nowrap:"nowrap"}},[t._v(t._s(r.eventId))]),t._v(" "),e("td",[t._v(t._s(r.category))]),t._v(" "),e("td",{attrs:{nowrap:"nowrap"}},[t._v(t._s(r.level))]),t._v(" "),e("td",{attrs:{nowrap:"nowrap"}},[t._v(t._s(r.startTime))]),t._v(" "),e("td",{attrs:{nowrap:"nowrap"}},[t._v(t._s(r.endTime||t.$t("continued")))]),t._v(" "),e("td",{attrs:{nowrap:"nowrap"}},[t._v(t._s(r.device))]),t._v(" "),e("td",{attrs:{nowrap:"nowrap"}},[t._v(t._s(r.duration))]),t._v(" "),e("td",[t._v(t._s(r.desc))])])]}}],null,!0)})]}}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{TableCard:n(879).default})}}]);